{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.jsx","components/Searchbar/Searchbar.jsx","services/api.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","spin","keyframes","Spinner","CgSpinner","Searchbar","onSearch","className","s","onSubmit","e","preventDefault","target","elements","searchImage","value","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","name","autoComplete","autoFocus","placeholder","fetchImage","a","page","axios","defaults","baseURL","autKey","get","response","images","data","hits","ImageGalleryItem","image","openLargeImage","onClick","src","webformatURL","alt","tag","ImageGalleryItem_image","id","ImageGallery","map","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleBackDropClick","currentTarget","window","addEventListener","this","removeEventListener","children","createPortal","Overlay","Component","App","state","reqStatus","showModal","largeImage","onLoadMore","setState","prevState","handleSearchChange","reset","toggleModal","handleOpenImage","_","length","Error","toast","error","scrollTo","top","documentElement","scrollHeight","behavior","size","color","largeImageURL","tags","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,uBAAyB,mD,mBCAzGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,mNCGrBC,EAAOC,YAAH,yGASGC,EAAU,YAAOC,IAAP,sBAAH,aACLH,EADK,uH,uBC2DLI,MA1Bf,YAAkC,IAAbC,EAAY,EAAZA,SAMnB,OACE,wBAAQC,UAAWC,IAAEH,UAArB,SACE,uBAAMI,SAPW,SAAAC,GACnBA,EAAEC,iBACFL,EAASI,EAAEE,OAAOC,SAASC,YAAYC,QAKPR,UAAWC,IAAEQ,WAA3C,UACE,wBAAQC,KAAK,SAASV,UAAWC,IAAEU,kBAAnC,SACE,sBAAMX,UAAWC,IAAEW,wBAAnB,sBAGF,uBACEZ,UAAWC,IAAEY,iBACbH,KAAK,OACLI,KAAK,cACLC,aAAa,MACbC,WAAS,EACTC,YAAY,mC,iBC/DTC,EAAU,uCAAG,WAAOX,GAAP,iCAAAY,EAAA,6DAAoBC,EAApB,+BAA2B,EACnDC,IAAMC,SAASC,QAAU,2BACnBC,EAAS,qCAFS,SAIDH,IAAMI,IAAN,sDAC0BlB,EAD1B,iBAC8Ca,EAD9C,4BACsEI,IALrE,cAIlBE,EAJkB,OAOlBC,EAASD,EAASE,KAAKC,KAPL,kBAQjBF,GARiB,2CAAH,sD,iBCCR,SAASG,EAAT,GAAsD,IAA1BC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,eAChD,OACE,oBAEEhC,UAAWC,IAAE6B,iBACbG,QAAS,kBAAMD,EAAeD,IAHhC,SAKE,qBACEG,IAAKH,EAAMI,aACXC,IAAKL,EAAMM,IACXrC,UAAWC,IAAEqC,0BAPVP,EAAMQ,I,qBCFF,SAASC,EAAT,GAAmD,IAA3Bb,EAA0B,EAA1BA,OAAQK,EAAkB,EAAlBA,eAC7C,OACE,oBAAIhC,UAAWC,IAAEuC,aAAjB,SACGb,EAAOc,KAAI,SAAAV,GACV,OACE,cAACD,EAAD,CAEEC,MAAOA,EACPC,eAAgBA,GAFXD,EAAMQ,S,qBCRR,SAASG,EAAT,GAA8B,IAAZT,EAAW,EAAXA,QAE/B,OACE,wBACEvB,KAAK,SACL,cAAY,YACZV,UAAWC,IAAEyC,OACbT,QANe,SAAA9B,GAAC,OAAI8B,KAEtB,uB,qBCDEU,EAAYC,SAASC,cAAc,eAEpBC,E,4MASnBC,cAAgB,SAAA5C,GACC,WAAXA,EAAE6C,MACJ,EAAKC,MAAMC,W,EAGfC,oBAAsB,SAAAhD,GAChBA,EAAEiD,gBAAkBjD,EAAEE,QACxB,EAAK4C,MAAMC,W,uDAff,WACEG,OAAOC,iBAAiB,UAAWC,KAAKR,iB,kCAG1C,WACEM,OAAOG,oBAAoB,UAAWD,KAAKR,iB,oBAc7C,WACE,IAAQU,EAAaF,KAAKN,MAAlBQ,SAER,OAAOC,uBACL,qBAAK1D,UAAWC,IAAE0D,QAAS1B,QAASsB,KAAKJ,oBAAzC,SACE,qBAAKnD,UAAWC,IAAE6C,MAAlB,SAA0BW,MAE5Bd,O,GA3B6BiB,aCIdC,E,4MACnBC,MAAQ,CACNvD,YAAa,KACboB,OAAQ,GACRP,KAAM,EACN2C,UAAW,OACXC,WAAW,EACXC,WAAY,I,EAgCdC,WAAa,WACX,EAAKC,UAAS,SAAAC,GAAS,MAAK,CAC1BhD,KAAMgD,EAAUhD,KAAO,O,EAI3BiD,mBAAqB,SAAA9D,GACnB,EAAK+D,QACL,EAAKH,SAAS,CAAE5D,iB,EAGlB+D,MAAQ,WACN,EAAKH,SAAS,CACZ5D,YAAa,KACboB,OAAQ,GACRP,KAAM,EACN2C,UAAW,U,EAIfQ,YAAc,WACZ,EAAKJ,UAAS,SAAAC,GAAS,MAAK,CAC1BJ,WAAYI,EAAUJ,e,EAI1BQ,gBAAkB,SAAAP,GAChB,EAAKE,SAAS,CAAEF,eAChB,EAAKM,e,+FAzDP,WAAyBE,EAAGL,GAA5B,qBAAAjD,EAAA,2DACgCoC,KAAKO,MAA3BvD,EADV,EACUA,YAAaa,EADvB,EACuBA,KACjBgD,EAAU7D,cAAgBA,GAAe6D,EAAUhD,OAASA,EAFlE,iCAIMmC,KAAKY,SAAS,CAAEJ,UAAW,YAJjC,SAM2B7C,EAAWX,EAAaa,GANnD,WAMYO,EANZ,QAQkB+C,OARlB,sBASc,IAAIC,MATlB,OAYMpB,KAAKY,UAAS,SAAAC,GAAS,MAAK,CAC1BzC,OAAO,GAAD,mBAAMyC,EAAUzC,QAAhB,YAA2BA,IACjCoC,UAAW,eAdnB,kDAiBMR,KAAKY,SAAS,CAAEJ,UAAW,aAC3Ba,IAAMC,MAAM,aAlBlB,QAsBEzD,EAAO,GACLiC,OAAOyB,SAAS,CACdC,IAAKnC,SAASoC,gBAAgBC,aAC9BC,SAAU,WAzBhB,0D,6EA4DA,WACE,MAAqD3B,KAAKO,MAAlDnC,EAAR,EAAQA,OAAQoC,EAAhB,EAAgBA,UAAWC,EAA3B,EAA2BA,UAAWC,EAAtC,EAAsCA,WACtC,OACE,gCACE,cAAC,EAAD,CAAWlE,SAAUwD,KAAKc,qBACX,YAAdN,GAA2B,cAACnE,EAAD,CAASuF,KAAK,KAAKC,MAAM,SACrD,cAAC5C,EAAD,CAAcb,OAAQA,EAAQK,eAAgBuB,KAAKiB,kBACnD,cAAC,IAAD,IACC7C,EAAO+C,OAAS,GAAK,cAAChC,EAAD,CAAQT,QAASsB,KAAKW,aAC3CF,GACC,cAAC,EAAD,CAAOd,QAASK,KAAKgB,YAArB,SACE,qBAAKrC,IAAK+B,EAAWoB,cAAejD,IAAK6B,EAAWqB,gB,GAjF/B1B,aCLjC2B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF7C,SAAS8C,eAAe,U,kBCR1BlG,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,kBAAoB,qCAAqC,oBAAoB,qCAAqC,wBAA0B,2CAA2C,iBAAmB,uC","file":"static/js/main.0574bb41.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1jl66\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3ITNf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1OwZz\",\"Modal\":\"Modal_Modal__2yvIc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__34hvm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__CUolH\"};","import styled from '@emotion/styled/macro';\r\nimport { keyframes } from '@emotion/react';\r\nimport { CgSpinner } from 'react-icons/cg';\r\n\r\nconst spin = keyframes`\r\n0% {\r\n  transform: rotate(0deg);\r\n}\r\n100% {\r\n  transform: rotate(1turn);\r\n}\r\n`;\r\n\r\nexport const Spinner = styled(CgSpinner)`\r\n  animation: ${spin} 1s linear infinite;\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100vw;\r\n  height: 100wh;\r\n`;\r\n","// import { Component } from 'react';\r\n// import toast from 'react-hot-toast';\r\nimport s from 'components/Searchbar/Searchbar.module.css';\r\n\r\n// export default class SearchBar extends Component {\r\n//   state = {\r\n//     query: '',\r\n//   };\r\n\r\n//   handelChange = event => {\r\n//     this.setState({ query: event.currentTarget.value.toLowerCase() });\r\n//   };\r\n\r\n//   handleSubmit = event => {\r\n//     event.preventDefault();\r\n\r\n//     // if (this.state.query.trim() === '') {\r\n//     //   toast.error('Enter what you want to find');\r\n//     //   return;\r\n//     // }\r\n//     this.props.onSearch(this.state.query);\r\n//     this.setState({ query: '' });\r\n//   };\r\n//   render() {\r\n//     return (\r\n//       <header className={s.Searchbar}>\r\n//         <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n//           <button type=\"submit\" className={s.SearchForm_button}>\r\n//             <span className={s.SearchForm_button_label}>Search</span>\r\n//           </button>\r\n\r\n//           <input\r\n//             className={s.SearchForm_input}\r\n//             type=\"text\"\r\n//             autocomplete=\"off\"\r\n//             autofocus\r\n//             placeholder=\"Search images and photos\"\r\n//             value={this.state.query}\r\n//             onChange={this.handelChange}\r\n//           />\r\n//         </form>\r\n//       </header>\r\n//     );\r\n//   }\r\n// }\r\n\r\nfunction Searchbar({ onSearch }) {\r\n  const handleSearch = e => {\r\n    e.preventDefault();\r\n    onSearch(e.target.elements.searchImage.value);\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={handleSearch} className={s.SearchForm}>\r\n        <button type=\"submit\" className={s.SearchForm_button}>\r\n          <span className={s.SearchForm_button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchForm_input}\r\n          type=\"text\"\r\n          name=\"searchImage\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Searchbar;\r\n","import axios from 'axios';\r\n\r\nexport const fetchImage = async (searchImage, page = 1) => {\r\n  axios.defaults.baseURL = 'https://pixabay.com/api/';\r\n  const autKey = '21724467-4ce0638ba06e77e7c079dfe7e';\r\n\r\n  const response = await axios.get(\r\n    `/?image_type=photo&orientation=horizontal&q=${searchImage}&page=${page}&per_page=12&key=${autKey}`,\r\n  );\r\n  const images = response.data.hits;\r\n  return images;\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport s from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ image, openLargeImage }) {\r\n  return (\r\n    <li\r\n      key={image.id}\r\n      className={s.ImageGalleryItem}\r\n      onClick={() => openLargeImage(image)}\r\n    >\r\n      <img\r\n        src={image.webformatURL}\r\n        alt={image.tag}\r\n        className={s.ImageGalleryItem_image}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.object.isRequired,\r\n  openLargeImage: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from 'components/ImageGalleryItem/ImageGalleryItem';\r\nimport s from 'components/ImageGallery/ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ images, openLargeImage }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(image => {\r\n        return (\r\n          <ImageGalleryItem\r\n            key={image.id}\r\n            image={image}\r\n            openLargeImage={openLargeImage}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n  openLargeImage: PropTypes.func.isRequired,\r\n};\r\n","import s from 'components/Button/Button.module.css';\r\n\r\nexport default function Button({ onClick }) {\r\n  const onloadMore = e => onClick();\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      data-action=\"load-more\"\r\n      className={s.Button}\r\n      onClick={onloadMore}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import { createPortal } from 'react-dom';\r\nimport s from 'components/Modal/Modal.module.css';\r\nimport { Component } from 'react';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackDropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackDropClick}>\r\n        <div className={s.Modal}>{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\n\nimport toast, { Toaster } from 'react-hot-toast';\nimport { Spinner } from 'components/Loader/Loader';\nimport SearchBar from 'components/Searchbar/Searchbar';\nimport { fetchImage } from 'services/api';\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\nimport Button from 'components/Button/Button';\nimport Modal from 'components/Modal/Modal';\n\nexport default class App extends Component {\n  state = {\n    searchImage: null,\n    images: [],\n    page: 1,\n    reqStatus: 'idle',\n    showModal: false,\n    largeImage: {},\n  };\n\n  async componentDidUpdate(_, prevState) {\n    const { searchImage, page } = this.state;\n    if (prevState.searchImage !== searchImage || prevState.page !== page) {\n      try {\n        this.setState({ reqStatus: 'pending' });\n\n        const images = await fetchImage(searchImage, page);\n\n        if (!images.length) {\n          throw new Error();\n        }\n\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          reqStatus: 'resolved',\n        }));\n      } catch (err) {\n        this.setState({ reqStatus: 'rejected' });\n        toast.error('Not found');\n      }\n    }\n\n    page > 1 &&\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n  }\n\n  onLoadMore = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  handleSearchChange = searchImage => {\n    this.reset();\n    this.setState({ searchImage });\n  };\n\n  reset = () => {\n    this.setState({\n      searchImage: null,\n      images: [],\n      page: 1,\n      reqStatus: 'idle',\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  handleOpenImage = largeImage => {\n    this.setState({ largeImage });\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, reqStatus, showModal, largeImage } = this.state;\n    return (\n      <div>\n        <SearchBar onSearch={this.handleSearchChange} />\n        {reqStatus === 'pending' && <Spinner size=\"50\" color=\"blue\" />}\n        <ImageGallery images={images} openLargeImage={this.handleOpenImage} />\n        <Toaster />\n        {images.length > 0 && <Button onClick={this.onLoadMore} />}\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImage.largeImageURL} alt={largeImage.tags} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__28E61\",\"SearchForm\":\"Searchbar_SearchForm__AJ5Ve\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3hpe6\",\"SearchForm-button\":\"Searchbar_SearchForm-button__MBkTS\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__3C5yQ\",\"SearchForm_input\":\"Searchbar_SearchForm_input__3T7CZ\"};"],"sourceRoot":""}